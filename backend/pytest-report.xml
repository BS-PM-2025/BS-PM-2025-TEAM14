<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="320" time="334.287" timestamp="2025-06-10T20:25:14.175431+03:00" hostname="Ariel_PC"><testcase classname="tests.test_additional_coverage_fixed.TestSubmitResponseEndpoint" name="test_submit_response_success" time="0.529" /><testcase classname="tests.test_additional_coverage_fixed.TestSubmitResponseEndpoint" name="test_submit_response_no_files" time="0.447" /><testcase classname="tests.test_additional_coverage_fixed.TestFileDownloadEndpoint" name="test_download_file_not_found" time="0.005" /><testcase classname="tests.test_additional_coverage_fixed.TestFileDownloadEndpoint" name="test_download_file_encoded_params" time="0.011" /><testcase classname="tests.test_additional_coverage_fixed.TestCreateRequestEndpoint" name="test_create_request_with_timeline_update" time="2.107" /><testcase classname="tests.test_additional_coverage_fixed.TestCreateRequestEndpoint" name="test_create_request_invalid_data_types" time="2.132" /><testcase classname="tests.test_additional_coverage_fixed.TestCreateRequestEndpoint" name="test_create_request_missing_required_fields" time="0.006" /><testcase classname="tests.test_additional_coverage_fixed.TestAuthenticationEdgeCases" name="test_verify_token_admin_invalid_role" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestAuthenticationEdgeCases" name="test_verify_token_admin_missing_role" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestAuthenticationEdgeCases" name="test_create_access_token_edge_cases" time="0.005" /><testcase classname="tests.test_additional_coverage_fixed.TestAnnouncementEdgeCases" name="test_create_announcement_invalid_date_format" time="0.016" /><testcase classname="tests.test_additional_coverage_fixed.TestAnnouncementEdgeCases" name="test_create_announcement_empty_title" time="0.007" /><testcase classname="tests.test_additional_coverage_fixed.TestAnnouncementEdgeCases" name="test_deactivate_nonexistent_announcement" time="0.231" /><testcase classname="tests.test_additional_coverage_fixed.TestGradesEndpoint" name="test_submit_grades_invalid_course" time="0.227" /><testcase classname="tests.test_additional_coverage_fixed.TestGradesEndpoint" name="test_submit_grades_invalid_grade_values" time="0.228" /><testcase classname="tests.test_additional_coverage_fixed.TestGradesEndpoint" name="test_submit_grades_missing_data" time="0.007" /><testcase classname="tests.test_additional_coverage_fixed.TestRequestStatusUpdate" name="test_update_status_missing_fields" time="0.005" /><testcase classname="tests.test_additional_coverage_fixed.TestRequestStatusUpdate" name="test_update_status_invalid_request_id" time="2.283" /><testcase classname="tests.test_additional_coverage_fixed.TestRequestStatusUpdate" name="test_update_status_nonexistent_request" time="2.102" /><testcase classname="tests.test_additional_coverage_fixed.TestCoursesEndpoint" name="test_get_courses_with_professor_filter" time="0.226" /><testcase classname="tests.test_additional_coverage_fixed.TestCoursesEndpoint" name="test_get_courses_with_false_professor_filter" time="0.231" /><testcase classname="tests.test_additional_coverage_fixed.TestCoursesEndpoint" name="test_get_courses_no_filter" time="0.227" /><testcase classname="tests.test_additional_coverage_fixed.TestUserManagementEdgeCases" name="test_set_role_nonexistent_user" time="0.231" /><testcase classname="tests.test_additional_coverage_fixed.TestUserManagementEdgeCases" name="test_get_user_invalid_email_format" time="0.228" /><testcase classname="tests.test_additional_coverage_fixed.TestUserManagementEdgeCases" name="test_get_users_with_role_filter" time="0.235" /><testcase classname="tests.test_additional_coverage_fixed.TestPydanticModelsValidation" name="test_chat_request_validation" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestPydanticModelsValidation" name="test_unavailability_period_validation" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestPydanticModelsValidation" name="test_assign_professor_request_validation" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestPydanticModelsValidation" name="test_assign_students_request_validation" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestConstants" name="test_constants_exist" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestConstants" name="test_oauth2_scheme_exists" time="0.002" /><testcase classname="tests.test_additional_coverage_fixed.TestImportHandling" name="test_openai_import_handling" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestImportHandling" name="test_ai_endpoint_when_openai_unavailable" time="179.030" /><testcase classname="tests.test_additional_coverage_fixed.TestDatabaseFunctions" name="test_fetch_data_function" time="0.002" /><testcase classname="tests.test_additional_coverage_fixed.TestDatabaseFunctions" name="test_main_function_exists" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestErrorHandlingPaths" name="test_login_with_malformed_json" time="1.758" /><testcase classname="tests.test_additional_coverage_fixed.TestErrorHandlingPaths" name="test_upload_file_with_no_file" time="0.006" /><testcase classname="tests.test_additional_coverage_fixed.TestFileOperations" name="test_reload_files_basic" time="0.005" /><testcase classname="tests.test_additional_coverage_fixed.TestFileOperations" name="test_upload_file_basic" time="0.008" /><testcase classname="tests.test_additional_coverage_fixed.TestBackgroundTaskVariables" name="test_background_task_variable_exists" time="0.001" /><testcase classname="tests.test_additional_coverage_fixed.TestBackgroundTaskVariables" name="test_openai_available_variable_exists" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_english" time="0.002" /><testcase classname="tests.test_ai_service" name="test_process_keywords_hebrew" time="0.002" /><testcase classname="tests.test_ai_service" name="test_process_keywords_empty_string" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_stop_words_only" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_mixed_case" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_hebrew_empty_string" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_hebrew_stop_words_only" time="0.001" /><testcase classname="tests.test_ai_service" name="test_process_keywords_hebrew_mixed_case" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_exact" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_partial" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_no_match" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_empty_query" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_empty_pattern" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_empty_both" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_query_in_pattern" time="0.002" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_pattern_in_query_hebrew" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_query_in_pattern_hebrew" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_keyword_hebrew_partial_match" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_no_keywords_query" time="0.001" /><testcase classname="tests.test_ai_service" name="test_calculate_match_score_no_keywords_pattern" time="0.002" /><testcase classname="tests.test_ai_service" name="test_process_message_english" time="0.211" /><testcase classname="tests.test_ai_service" name="test_process_message_hebrew" time="0.233" /><testcase classname="tests.test_ai_service" name="test_process_message_empty" time="0.003" /><testcase classname="tests.test_ai_service" name="test_process_message_special_characters" time="21.258" /><testcase classname="tests.test_ai_service" name="test_process_message_error_handling" time="0.003" /><testcase classname="tests.test_ai_service" name="test_process_message_language_detection" time="0.423" /><testcase classname="tests.test_ai_service" name="test_process_message_exact_faq_match" time="0.019" /><testcase classname="tests.test_ai_service" name="test_process_message_partial_faq_match" time="0.225" /><testcase classname="tests.test_ai_service" name="test_process_message_hebrew_faq" time="0.216" /><testcase classname="tests.test_ai_service" name="test_process_message_openai_fallback" time="20.965"><failure message="assert False is True">@pytest.mark.asyncio
    async def test_process_message_openai_fallback():
        # Test OpenAI fallback for unknown queries
        response = await processMessage("What is the meaning of life?", "en")
&gt;       assert response["success"] is True
E       assert False is True

tests\test_ai_service.py:239: AssertionError</failure></testcase><testcase classname="tests.test_ai_service" name="test_openai_api_call" time="20.992"><failure message="assert False is True">@pytest.mark.asyncio
    async def test_openai_api_call():
        # Test direct OpenAI API call
        response = await call_openai_api("How do I submit my assignment?", "en")
&gt;       assert response["success"] is True
E       assert False is True

tests\test_ai_service.py:257: AssertionError</failure></testcase><testcase classname="tests.test_ai_service" name="test_load_faq_data_success" time="0.004" /><testcase classname="tests.test_ai_service" name="test_load_faq_data_file_not_found" time="0.002" /><testcase classname="tests.test_ai_service" name="test_load_faq_data_json_decode_error" time="0.004" /><testcase classname="tests.test_ai_service" name="test_load_faq_data_empty_json_object" time="0.004" /><testcase classname="tests.test_ai_service" name="test_load_faq_data_missing_faqs_key" time="0.004" /><testcase classname="tests.test_ai_service" name="test_call_openai_api_not_available" time="0.029" /><testcase classname="tests.test_ai_service" name="test_call_openai_api_openai_error" time="0.004" /><testcase classname="tests.test_ai_service" name="test_call_openai_api_openai_not_available" time="0.024" /><testcase classname="tests.test_ai_service" name="test_call_openai_api_attribute_error" time="0.030" /><testcase classname="tests.test_ai_service" name="test_process_message_with_none_language" time="21.054"><failure message="assert False is True">@pytest.mark.asyncio
    async def test_process_message_with_none_language():
        """Test processMessage with None language parameter."""
        response = await processMessage("Hello, how are you?", None)
        assert isinstance(response, dict)
        assert "text" in response
        assert "source" in response
        assert "success" in response
&gt;       assert response["success"] is True
E       assert False is True

tests\test_ai_service.py:381: AssertionError</failure></testcase><testcase classname="tests.test_db_connection" name="test_add_user_and_duplicate" time="0.216" /><testcase classname="tests.test_db_connection" name="test_add_user_professor" time="0.085" /><testcase classname="tests.test_db_connection" name="test_direct_add_and_update" time="0.099" /><testcase classname="tests.test_db_connection" name="test_requests_and_notifications_flow" time="0.123" /><testcase classname="tests.test_db_connection" name="test_course_student_course_and_response_and_assign" time="0.164" /><testcase classname="tests.test_email_service" name="test_send_email_success" time="0.006" /><testcase classname="tests.test_email_service" name="test_send_email_failure" time="0.005" /><testcase classname="tests.test_email_service" name="test_send_email_no_config" time="0.022" /><testcase classname="tests.test_email_service" name="test_send_email_html_content" time="0.028" /><testcase classname="tests.test_fast_unit" name="test_verify_token_ok" time="0.001" /><testcase classname="tests.test_fast_unit" name="test_verify_token_prof_guard" time="0.002" /><testcase classname="tests.test_fast_unit" name="test_upload_too_large" time="0.076" /><testcase classname="tests.test_fast_unit" name="test_reload_files_empty" time="0.010" /><testcase classname="tests.test_fast_unit" name="test_mark_all_notifications" time="0.008" /><testcase classname="tests.test_imports" name="test_import_everything" time="0.001" /><testcase classname="tests.test_integration_api" name="test_full_flow" time="2.374" /><testcase classname="tests.test_integration_api" name="test_ai_service_integration" time="0.210" /><testcase classname="tests.test_integration_api" name="test_file_upload_download_integration" time="0.449" /><testcase classname="tests.test_integration_api" name="test_professor_student_assignment_integration" time="0.975" /><testcase classname="tests.test_integration_api" name="test_grade_management_integration" time="1.126" /><testcase classname="tests.test_integration_api" name="test_professor_availability_integration" time="0.424" /><testcase classname="tests.test_main" name="test_login_matrix[override_session_with_data-student1@sce.ac.il-password-200]" time="0.443" /><testcase classname="tests.test_main" name="test_login_matrix[override_session_without_data-nosuch@sce.ac.il-password-404]" time="0.224" /><testcase classname="tests.test_main" name="test_login_matrix[override_session_with_data-student1@sce.ac.il-BAD-401]" time="0.452" /><testcase classname="tests.test_main" name="test_login_success" time="0.446" /><testcase classname="tests.test_main" name="test_login_fail" time="0.445" /><testcase classname="tests.test_main" name="test_create_access_token" time="0.001" /><testcase classname="tests.test_main" name="test_verify_token_professor" time="0.001" /><testcase classname="tests.test_main" name="test_home" time="0.005" /><testcase classname="tests.test_main" name="test_list_databases" time="0.007" /><testcase classname="tests.test_main" name="test_list_tables" time="0.007" /><testcase classname="tests.test_main" name="test_get_users" time="0.229" /><testcase classname="tests.test_main" name="test_create_user" time="0.446" /><testcase classname="tests.test_main" name="test_create_user_duplicate" time="0.221" /><testcase classname="tests.test_main" name="test_set_role" time="0.232" /><testcase classname="tests.test_main" name="test_get_user_student" time="0.445" /><testcase classname="tests.test_main" name="test_get_user_professor" time="0.448" /><testcase classname="tests.test_main" name="test_get_courses" time="0.448" /><testcase classname="tests.test_main" name="test_get_student_courses_invalid_email" time="0.005" /><testcase classname="tests.test_main" name="test_get_student_courses_empty_email" time="0.007" /><testcase classname="tests.test_main" name="test_upload_missing_filetype" time="0.005" /><testcase classname="tests.test_main" name="test_upload_file_success" time="0.012" /><testcase classname="tests.test_main" name="test_reload_files" time="0.010" /><testcase classname="tests.test_main" name="test_create_general_request" time="2.222" /><testcase classname="tests.test_main" name="test_create_grade_appeal_request" time="2.165" /><testcase classname="tests.test_main" name="test_create_schedule_change_request" time="2.095" /><testcase classname="tests.test_main" name="test_create_request_missing_title" time="0.005" /><testcase classname="tests.test_main" name="test_create_request_missing_student_email" time="0.011" /><testcase classname="tests.test_main" name="test_create_request_invalid_grade_appeal" time="0.008" /><testcase classname="tests.test_main" name="test_create_request_invalid_schedule_change" time="0.009" /><testcase classname="tests.test_main_extended" name="test_create_access_token" time="0.001" /><testcase classname="tests.test_main_extended" name="test_verify_token_valid" time="0.006" /><testcase classname="tests.test_main_extended" name="test_verify_token_invalid_signature" time="0.003" /><testcase classname="tests.test_main_extended" name="test_verify_token_missing_email" time="0.006" /><testcase classname="tests.test_main_extended" name="test_verify_token_missing_role" time="0.004" /><testcase classname="tests.test_main_extended" name="test_verify_token_expired" time="0.015" /><testcase classname="tests.test_main_extended" name="test_verify_token_professor_valid" time="0.015" /><testcase classname="tests.test_main_extended" name="test_verify_token_professor_invalid_role" time="0.003" /><testcase classname="tests.test_main_extended" name="test_verify_token_professor_missing_role_in_payload" time="0.006" /><testcase classname="tests.test_main_extended" name="test_verify_token_student_valid" time="0.015" /><testcase classname="tests.test_main_extended" name="test_verify_token_student_invalid_role" time="0.004" /><testcase classname="tests.test_main_extended" name="test_verify_token_student_missing_role_in_payload" time="0.009" /><testcase classname="tests.test_main_extended" name="test_chat_request_valid" time="0.001" /><testcase classname="tests.test_main_extended" name="test_chat_request_valid_no_language" time="0.001" /><testcase classname="tests.test_main_extended" name="test_chat_request_missing_message" time="0.001" /><testcase classname="tests.test_main_extended" name="test_chat_request_message_empty_string" time="0.001" /><testcase classname="tests.test_main_extended" name="test_unavailability_period_valid" time="0.001" /><testcase classname="tests.test_main_extended" name="test_unavailability_period_no_reason" time="0.001" /><testcase classname="tests.test_main_extended" name="test_unavailability_period_missing_start_date" time="0.001" /><testcase classname="tests.test_main_extended" name="test_unavailability_period_missing_end_date" time="0.001" /><testcase classname="tests.test_main_extended" name="test_unavailability_period_invalid_date_type" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_professor_request_valid" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_professor_request_missing_email" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_professor_request_missing_course_ids" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_professor_request_invalid_course_ids_type" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_professor_request_empty_course_ids" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_students_request_valid" time="0.002" /><testcase classname="tests.test_main_extended" name="test_assign_students_request_missing_emails" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_students_request_missing_course_id" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_students_request_invalid_emails_type" time="0.001" /><testcase classname="tests.test_main_extended" name="test_assign_students_request_empty_emails_list" time="0.001" /><testcase classname="tests.test_main_extended" name="test_response_request_valid" time="0.001" /><testcase classname="tests.test_main_extended" name="test_response_request_missing_request_id" time="0.001" /><testcase classname="tests.test_main_extended" name="test_response_request_missing_professor_email" time="0.001" /><testcase classname="tests.test_main_extended" name="test_response_request_missing_response_text" time="0.001" /><testcase classname="tests.test_main_extended" name="test_response_request_invalid_request_id_type" time="0.001" /><testcase classname="tests.test_main_extended" name="test_transfer_request_valid_with_course_id" time="0.001" /><testcase classname="tests.test_main_extended" name="test_transfer_request_valid_no_course_id" time="0.001" /><testcase classname="tests.test_main_extended" name="test_transfer_request_valid_explicit_none_course_id" time="0.001" /><testcase classname="tests.test_main_extended" name="test_transfer_request_missing_reason" time="0.001" /><testcase classname="tests.test_main_extended" name="test_transfer_request_invalid_course_id_type" time="0.001" /><testcase classname="tests.test_main_extended" name="test_create_access_token_basic" time="0.001" /><testcase classname="tests.test_main_extended" name="test_verify_token_functions" time="0.001" /><testcase classname="tests.test_main_extended" name="test_verify_token_errors" time="0.001" /><testcase classname="tests.test_main_extended" name="test_home_endpoint" time="0.010" /><testcase classname="tests.test_main_extended" name="test_list_databases_endpoint" time="0.007" /><testcase classname="tests.test_main_extended" name="test_list_tables_endpoint" time="0.008" /><testcase classname="tests.test_main_extended" name="test_upload_file_success" time="0.026" /><testcase classname="tests.test_main_extended" name="test_reload_files_success" time="0.028" /><testcase classname="tests.test_main_extended" name="test_download_file_success" time="0.006" /><testcase classname="tests.test_main_extended" name="test_download_file_not_found" time="0.032" /><testcase classname="tests.test_main_extended" name="test_sqlite_functions" time="0.002" /><testcase classname="tests.test_main_extended" name="test_pydantic_model_edge_cases" time="0.001" /><testcase classname="tests.test_main_extended" name="test_simple_error_conditions" time="0.003" /><testcase classname="tests.test_main_extended" name="test_main_constants_and_setup" time="0.002" /><testcase classname="tests.test_main_extended" name="test_oauth2_scheme" time="0.001" /><testcase classname="tests.test_main_extended" name="test_upload_file_size_validation" time="0.006" /><testcase classname="tests.test_main_extended" name="test_login_function_logic" time="0.008" /><testcase classname="tests.test_main_extended" name="test_login_invalid_password" time="0.484" /><testcase classname="tests.test_main_extended" name="test_ai_chat_function_error" time="0.005" /><testcase classname="tests.test_main_extended" name="test_jwt_import_fallback" time="0.002" /><testcase classname="tests.test_main_extended" name="test_home_function" time="0.001" /><testcase classname="tests.test_main_extended" name="test_list_databases_function" time="0.001" /><testcase classname="tests.test_main_extended" name="test_list_tables_function" time="0.001" /><testcase classname="tests.test_main_extended" name="test_reload_files_function" time="0.005" /><testcase classname="tests.test_main_extended" name="test_download_file_function" time="0.010" /><testcase classname="tests.test_main_extended" name="test_create_access_token_comprehensive" time="0.003" /><testcase classname="tests.test_main_extended" name="test_verify_token_comprehensive" time="0.004" /><testcase classname="tests.test_main_extended" name="test_role_verification_functions" time="0.001" /><testcase classname="tests.test_main_extended" name="test_pydantic_models_comprehensive" time="0.001" /><testcase classname="tests.test_main_extended" name="test_lifespan_function_exists" time="0.001" /><testcase classname="tests.test_main_extended" name="test_app_configuration_comprehensive" time="0.002" /><testcase classname="tests.test_main_extended" name="test_constants_comprehensive" time="0.002" /><testcase classname="tests.test_main_extended" name="test_all_imports" time="0.001" /><testcase classname="tests.test_main_extended" name="test_get_requests_function" time="0.009" /><testcase classname="tests.test_main_extended" name="test_get_requests_secretary" time="0.008" /><testcase classname="tests.test_main_extended" name="test_get_professor_requests_function" time="0.008" /><testcase classname="tests.test_main_extended" name="test_create_user_function" time="0.251" /><testcase classname="tests.test_main_extended" name="test_get_users_coverage" time="0.004" /><testcase classname="tests.test_main_extended" name="test_get_courses_coverage" time="0.005" /><testcase classname="tests.test_main_extended" name="test_set_role_user_not_found" time="0.007" /><testcase classname="tests.test_main_extended" name="test_get_user_not_found" time="0.006" /><testcase classname="tests.test_main_extended" name="test_submit_grades_missing_data" time="0.007" /><testcase classname="tests.test_main_extended" name="test_get_students_course_not_found" time="0.011" /><testcase classname="tests.test_main_extended" name="test_create_general_request_missing_data" time="0.007" /><testcase classname="tests.test_main_extended" name="test_delete_request_not_found" time="0.008" /><testcase classname="tests.test_main_extended" name="test_edit_request_not_found" time="0.004" /><testcase classname="tests.test_main_extended" name="test_get_student_courses_empty_email" time="0.006" /><testcase classname="tests.test_main_extended" name="test_get_grades_no_grades" time="0.006" /><testcase classname="tests.test_main_extended" name="test_assign_students_coverage" time="0.007" /><testcase classname="tests.test_main_extended" name="test_assign_professor_coverage" time="0.007" /><testcase classname="tests.test_main_extended" name="test_get_assigned_students_coverage" time="0.009" /><testcase classname="tests.test_main_extended" name="test_simple_function_coverage" time="0.014" /><testcase classname="tests.test_main_extended" name="test_login_error_paths" time="0.005" /><testcase classname="tests.test_main_extended" name="test_upload_file_error_paths" time="0.006" /><testcase classname="tests.test_main_extended" name="test_app_and_constants" time="0.001" /><testcase classname="tests.test_main_extended" name="test_function_existence" time="0.001" /><testcase classname="tests.test_main_extended" name="test_lifespan_function_simple" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_create_announcement_success" time="0.011" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_create_announcement_unauthorized" time="0.008" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_get_active_announcements" time="0.243" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_get_all_announcements_admin" time="0.236" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_deactivate_announcement" time="0.237" /><testcase classname="tests.test_missing_coverage_fixed.TestAnnouncementsEndpoints" name="test_generate_ai_news_unavailable" time="0.010" /><testcase classname="tests.test_missing_coverage_fixed.TestAIChatEndpoint" name="test_ai_chat_success" time="0.009" /><testcase classname="tests.test_missing_coverage_fixed.TestAIChatEndpoint" name="test_ai_chat_error" time="0.006" /><testcase classname="tests.test_missing_coverage_fixed.TestAIChatEndpoint" name="test_ai_chat_invalid_request" time="0.006" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_submit_grades_success" time="0.237" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_submit_grades_unauthorized" time="0.008" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_get_course_students" time="0.239" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_add_unavailability_period" time="0.231" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_get_unavailability_periods" time="0.457" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_delete_unavailability_period" time="0.006" /><testcase classname="tests.test_missing_coverage_fixed.TestProfessorEndpoints" name="test_check_professor_availability" time="0.461" /><testcase classname="tests.test_missing_coverage_fixed.TestStudentEndpoints" name="test_get_student_professors" time="0.227" /><testcase classname="tests.test_missing_coverage_fixed.TestStudentEndpoints" name="test_get_student_professor_for_course" time="0.230" /><testcase classname="tests.test_missing_coverage_fixed.TestStudentEndpoints" name="test_get_grades_endpoint" time="0.232" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_update_status_endpoint" time="2.116" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_get_professor_requests" time="0.229" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_delete_request" time="0.006" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_edit_request_unauthorized" time="0.010" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_get_student_courses_for_request" time="0.453" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestEndpoints" name="test_get_request_responses" time="0.235" /><testcase classname="tests.test_missing_coverage_fixed.TestAssignmentEndpoints" name="test_assign_students" time="1.569" /><testcase classname="tests.test_missing_coverage_fixed.TestAssignmentEndpoints" name="test_assign_professor" time="2.289" /><testcase classname="tests.test_missing_coverage_fixed.TestAssignmentEndpoints" name="test_get_assigned_students" time="0.229" /><testcase classname="tests.test_missing_coverage_fixed.TestTransferEndpoints" name="test_transfer_request" time="0.442" /><testcase classname="tests.test_missing_coverage_fixed.TestTransferEndpoints" name="test_get_department_transfer_requests" time="0.233" /><testcase classname="tests.test_missing_coverage_fixed.TestTransferEndpoints" name="test_get_all_transfer_requests" time="0.686" /><testcase classname="tests.test_missing_coverage_fixed.TestNotificationEndpoints" name="test_get_notifications" time="0.468" /><testcase classname="tests.test_missing_coverage_fixed.TestNotificationEndpoints" name="test_mark_notification_read" time="0.230" /><testcase classname="tests.test_missing_coverage_fixed.TestNotificationEndpoints" name="test_mark_all_notifications_read" time="0.228" /><testcase classname="tests.test_missing_coverage_fixed.TestTemplateEndpoints" name="test_get_request_templates" time="0.226" /><testcase classname="tests.test_missing_coverage_fixed.TestTemplateEndpoints" name="test_get_request_template_by_id" time="0.226" /><testcase classname="tests.test_missing_coverage_fixed.TestTemplateEndpoints" name="test_create_request_template" time="0.232" /><testcase classname="tests.test_missing_coverage_fixed.TestTemplateEndpoints" name="test_get_request_template_names" time="0.228" /><testcase classname="tests.test_missing_coverage_fixed.TestTemplateEndpoints" name="test_get_request_template_by_name" time="0.229" /><testcase classname="tests.test_missing_coverage_fixed.TestCommentTemplateEndpoints" name="test_get_comment_templates" time="0.228" /><testcase classname="tests.test_missing_coverage_fixed.TestCommentTemplateEndpoints" name="test_delete_comment_template" time="0.228" /><testcase classname="tests.test_missing_coverage_fixed.TestDepartmentEndpoints" name="test_get_department_students" time="0.229" /><testcase classname="tests.test_missing_coverage_fixed.TestReportEndpoints" name="test_get_reports_student" time="0.006" /><testcase classname="tests.test_missing_coverage_fixed.TestReportEndpoints" name="test_get_reports_professor" time="1.106" /><testcase classname="tests.test_missing_coverage_fixed.TestReportEndpoints" name="test_get_reports_with_filters" time="1.115" /><testcase classname="tests.test_missing_coverage_fixed.TestDeadlineConfigEndpoints" name="test_get_deadline_configs" time="0.225" /><testcase classname="tests.test_missing_coverage_fixed.TestDeadlineConfigEndpoints" name="test_create_deadline_config" time="0.239" /><testcase classname="tests.test_missing_coverage_fixed.TestDeadlineConfigEndpoints" name="test_delete_deadline_config" time="0.229" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestRoutingEndpoints" name="test_get_request_routing_rules" time="0.227" /><testcase classname="tests.test_missing_coverage_fixed.TestRequestRoutingEndpoints" name="test_update_request_routing_rule" time="0.005" /><testcase classname="tests.test_missing_coverage_fixed.TestUtilityFunctions" name="test_fetch_data_function" time="0.002" /><testcase classname="tests.test_missing_coverage_fixed.TestUtilityFunctions" name="test_main_function" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestUtilityFunctions" name="test_verify_token_admin_secretary_role" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestErrorConditions" name="test_invalid_json_login" time="0.007"><failure message="AttributeError: 'NoneType' object has no attribute 'send'">async def get_session() -&gt; AsyncSession:
        async with async_session() as session:
&gt;           yield session

db_connection.py:803: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:301: in app
    raw_response = await run_endpoint_function(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:212: in run_endpoint_function
    return await dependant.call(**values)
main.py:280: in login
    res_user = await session.execute(select(Users).where(Users.email == email))
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2251: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\context.py:306: in orm_execute_statement
    result = conn.execute(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1416: in execute
    return meth(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\sql\elements.py:523: in _execute_on_connection
    return connection._execute_clauseelement(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1638: in _execute_clauseelement
    ret = self._execute_context(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1843: in _execute_context
    return self._exec_single_context(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1983: in _exec_single_context
    self._handle_dbapi_exception(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1964: in _exec_single_context
    self.dialect.do_execute(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:945: in do_execute
    cursor.execute(statement, parameters)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py:97: in execute
    return self.await_(self._execute_async(operation, parameters))
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py:106: in _execute_async
    result = await self._cursor.execute(operation, parameters)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\cursors.py:239: in execute
    await self._query(query)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\cursors.py:457: in _query
    await conn.query(q)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:468: in query
    await self._execute_command(COMMAND.COM_QUERY, sql)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:724: in _execute_command
    self._write_bytes(prelude + sql[:chunk_size - 1])
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:669: in _write_bytes
    return self._writer.write(data)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\streams.py:343: in write
    self._transport.write(data)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py:366: in write
    self._loop_writing(data=bytes(data))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;_ProactorSocketTransport fd=1132 read=&lt;_OverlappedFuture cancelled&gt;&gt;, f = None
data = b'\x8c\x00\x00\x00\x03SELECT users.email, users.id, users.first_name, users.last_name, users.hashed_password, users.`role` \nFROM users \nWHERE users.email IS NULL'

    def _loop_writing(self, f=None, data=None):
        try:
            if f is not None and self._write_fut is None and self._closing:
                # XXX most likely self._force_close() has been called, and
                # it has set self._write_fut to None.
                return
            assert f is self._write_fut
            self._write_fut = None
            self._pending_write = 0
            if f:
                f.result()
            if data is None:
                data = self._buffer
                self._buffer = None
            if not data:
                if self._closing:
                    self._loop.call_soon(self._call_connection_lost, None)
                if self._eof_written:
                    self._sock.shutdown(socket.SHUT_WR)
                # Now that we've reduced the buffer size, tell the
                # protocol to resume writing if it was paused.  Note that
                # we do this last since the callback is called immediately
                # and it may add more data to the buffer (even causing the
                # protocol to be paused again).
                self._maybe_resume_protocol()
            else:
&gt;               self._write_fut = self._loop._proactor.send(self._sock, data)
E               AttributeError: 'NoneType' object has no attribute 'send'

C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py:402: AttributeError

During handling of the above exception, another exception occurred:

self = &lt;backend.tests.test_missing_coverage_fixed.TestErrorConditions object at 0x000001EE70CEF4A0&gt;

    def test_invalid_json_login(self):
&gt;       response = client.post("/login", json={})

tests\test_missing_coverage_fixed.py:521: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\testclient.py:538: in post
    return super().post(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1144: in post
    return self.request(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\testclient.py:437: in request
    return super().request(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:825: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:914: in send
    response = self._send_handling_auth(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:942: in _send_handling_auth
    response = self._send_handling_redirects(
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:979: in _send_handling_redirects
    response = self._send_single_request(request)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\httpx\_client.py:1014: in _send_single_request
    response = transport.handle_request(request)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\testclient.py:340: in handle_request
    raise exc
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\testclient.py:337: in handle_request
    portal.call(self.app, scope, receive, send)
c:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\from_thread.py:290: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\_base.py:456: in result
    return self.__get_result()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\_base.py:401: in __get_result
    raise self._exception
c:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\from_thread.py:221: in _call_func
    retval = await retval_or_awaitable
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\applications.py:112: in __call__
    await self.middleware_stack(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\errors.py:187: in __call__
    raise exc
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\errors.py:165: in __call__
    await self.app(scope, receive, _send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:714: in __call__
    await self.middleware_stack(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:734: in app
    await route.handle(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:288: in handle
    await self.app(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:76: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py:73: in app
    response = await f(request)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py:290: in app
    async with AsyncExitStack() as async_exit_stack:
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\contextlib.py:754: in __aexit__
    raise exc_details[1]
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\contextlib.py:737: in __aexit__
    cb_suppress = await cb(*exc_details)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\contextlib.py:231: in __aexit__
    await self.gen.athrow(value)
db_connection.py:802: in get_session
    async with async_session() as session:
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:1086: in __aexit__
    await asyncio.shield(task)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\session.py:1031: in close
    await greenlet_spawn(self.sync_session.close)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2521: in close
    self._close_impl(invalidate=False)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:2590: in _close_impl
    transaction.close(invalidate)
&lt;string&gt;:2: in close
    ???
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\state_changes.py:139: in _go
    ret_value = fn(self, *arg, **kw)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\orm\session.py:1419: in close
    transaction.close()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2586: in close
    self._do_close()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2724: in _do_close
    self._close_impl()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2710: in _close_impl
    self._connection_rollback_impl()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2702: in _connection_rollback_impl
    self.connection._rollback_impl()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1127: in _rollback_impl
    self._handle_dbapi_exception(e, None, None, None, None)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:1125: in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:703: in do_rollback
    dbapi_connection.rollback()
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py:203: in rollback
    self.await_(self._connection.rollback())
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:398: in rollback
    await self._execute_command(COMMAND.COM_QUERY, "ROLLBACK")
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:724: in _execute_command
    self._write_bytes(prelude + sql[:chunk_size - 1])
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\site-packages\aiomysql\connection.py:669: in _write_bytes
    return self._writer.write(data)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\streams.py:343: in write
    self._transport.write(data)
C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py:366: in write
    self._loop_writing(data=bytes(data))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;_ProactorSocketTransport fd=1132 read=&lt;_OverlappedFuture cancelled&gt;&gt;, f = None, data = b'\t\x00\x00\x00\x03ROLLBACK'

    def _loop_writing(self, f=None, data=None):
        try:
            if f is not None and self._write_fut is None and self._closing:
                # XXX most likely self._force_close() has been called, and
                # it has set self._write_fut to None.
                return
            assert f is self._write_fut
            self._write_fut = None
            self._pending_write = 0
            if f:
                f.result()
            if data is None:
                data = self._buffer
                self._buffer = None
            if not data:
                if self._closing:
                    self._loop.call_soon(self._call_connection_lost, None)
                if self._eof_written:
                    self._sock.shutdown(socket.SHUT_WR)
                # Now that we've reduced the buffer size, tell the
                # protocol to resume writing if it was paused.  Note that
                # we do this last since the callback is called immediately
                # and it may add more data to the buffer (even causing the
                # protocol to be paused again).
                self._maybe_resume_protocol()
            else:
&gt;               self._write_fut = self._loop._proactor.send(self._sock, data)
E               AttributeError: 'NoneType' object has no attribute 'send'

C:\Users\mpota\AppData\Local\Programs\Python\Python312\Lib\asyncio\proactor_events.py:402: AttributeError</failure></testcase><testcase classname="tests.test_missing_coverage_fixed.TestPydanticModelsValidation" name="test_chat_request_validation" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestPydanticModelsValidation" name="test_unavailability_period_validation" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestPydanticModelsValidation" name="test_assign_professor_request_validation" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestPydanticModelsValidation" name="test_assign_students_request_validation" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestConstants" name="test_constants_exist" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestConstants" name="test_oauth2_scheme_exists" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestImportHandling" name="test_openai_import_handling" time="0.001" /><testcase classname="tests.test_missing_coverage_fixed.TestDatabaseFunctions" name="test_fetch_data_function" time="0.002" /><testcase classname="tests.test_missing_coverage_fixed.TestDatabaseFunctions" name="test_main_function_exists" time="0.002" /><testcase classname="tests.test_request_endpoints" name="test_create_request" time="2.522" /><testcase classname="tests.test_request_endpoints" name="test_delete_request" time="2.919" /><testcase classname="tests.test_request_endpoints" name="test_edit_request" time="2.203" /><testcase classname="tests.test_request_endpoints" name="test_transfer_request" time="2.095" /><testcase classname="tests.test_request_endpoints" name="test_create_request_missing_fields" time="0.006" /><testcase classname="tests.test_request_endpoints" name="test_edit_nonexistent_request" time="0.006" /><testcase classname="tests.test_request_endpoints" name="test_request_timeline_updates" time="2.925" /><testcase classname="tests.test_request_endpoints" name="test_request_routing_rules" time="0.451" /><testcase classname="tests.test_request_endpoints" name="test_home" time="0.005" /><testcase classname="tests.test_request_endpoints" name="test_list_databases" time="0.006" /><testcase classname="tests.test_request_endpoints" name="test_list_tables" time="0.007" /><testcase classname="tests.test_request_endpoints" name="test_get_users" time="0.230" /><testcase classname="tests.test_request_endpoints" name="test_get_users_with_role" time="0.229" /><testcase classname="tests.test_request_endpoints" name="test_get_courses" time="0.227" /><testcase classname="tests.test_request_endpoints" name="test_get_routing_rules" time="0.226" /><testcase classname="tests.test_simple_endpoints" name="test_home" time="0.005" /><testcase classname="tests.test_simple_endpoints" name="test_list_databases" time="0.005" /><testcase classname="tests.test_simple_endpoints" name="test_list_tables" time="0.007" /><testcase classname="tests.test_simple_endpoints" name="test_get_users" time="0.232" /><testcase classname="tests.test_simple_endpoints" name="test_get_users_with_role" time="0.228" /><testcase classname="tests.test_simple_endpoints" name="test_get_courses" time="0.232" /><testcase classname="tests.test_simple_endpoints" name="test_get_routing_rules" time="0.297" /><testcase classname="tests.test_simple_endpoints" name="test_reload_files" time="0.005" /><testcase classname="tests.test_simple_endpoints" name="test_download_file" time="0.006" /><testcase classname="tests.test_simple_endpoints" name="test_get_dashboard" time="0.006" /><testcase classname="tests.test_simple_endpoints" name="test_get_user_by_email" time="0.227" /><testcase classname="tests.test_simple_endpoints" name="test_get_professor_courses" time="0.446" /></testsuite></testsuites>